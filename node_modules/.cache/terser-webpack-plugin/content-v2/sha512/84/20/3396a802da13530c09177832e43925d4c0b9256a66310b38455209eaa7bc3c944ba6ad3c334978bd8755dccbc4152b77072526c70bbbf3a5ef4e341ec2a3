{"map":"{\"version\":3,\"sources\":[\"G:\\\\OSPanel\\\\domains\\\\new_react\\\\src\\\\index.js\"],\"names\":[\"appSection\",\"document\",\"getElementById\",\"socket\",\"io\",\"connect\",\"reconnect\",\"helperFunctions\",\"isEnterButton\",\"e\",\"keyCode\",\"isEnterCtrlButton\",\"ctrlKey\",\"isEmptyValue\",\"val\",\"numericEnding\",\"number\",\"one\",\"two\",\"five\",\"n\",\"Math\",\"abs\",\"parseTime\",\"date\",\"time\",\"Date\",\"getHours\",\"slice\",\"getMinutes\",\"parseDate\",\"messageDate\",\"searchDate\",\"compareDates\",\"setDate\",\"getDate\",\"getMonth\",\"getFullYear\",\"date1\",\"date2\",\"LoginWindow\",\"_this\",\"this\",\"react__WEBPACK_IMPORTED_MODULE_5___default\",\"a\",\"createElement\",\"className\",\"type\",\"id\",\"onKeyUp\",\"props\",\"checkEnterKey\",\"error\",\"React\",\"Component\",\"LoginApp\",\"state\",\"value\",\"target\",\"replace\",\"_this2\",\"incorrectLogin\",\"clearError\",\"sendLogin\",\"emit\",\"user\",\"existLogin\",\"setErrorStateFun\",\"setState\",\"_this3\",\"on\",\"ChatContainer\",\"usersList\",\"uid\",\"midEdit\",\"message\",\"messageEdited\",\"mid\",\"arguments\",\"length\",\"undefined\",\"_this4\",\"setEditMessage\",\"users\",\"Chat\",\"editMessage\",\"edditingMessage\",\"UserTyping\",\"MessageForm\",\"UsersInfo\",\"_this5\",\"data\",\"setUsers\",\"userList\",\"setUid\",\"chatHistory\",\"lastReadMessage\",\"scrollToBottom\",\"list\",\"scrollTop\",\"scrollHeight\",\"_this6\",\"history\",\"_this7\",\"Object\",\"keys\",\"map\",\"i\",\"userChanged\",\"dateChanged\",\"lastMessageUid\",\"SystemMessage\",\"MessageItem\",\"userName\",\"userColor\",\"isEdditing\",\"_this8\",\"setHistory\",\"chat\",\"changeMessage\",\"newMessage\",\"messages\",\"toMessage\",\"_this9\",\"unread\",\"editting\",\"messageClass\",\"userMessageClass\",\"style\",\"color\",\"linkifyjs_react__WEBPACK_IMPORTED_MODULE_10___default\",\"tagName\",\"onClick\",\"count\",\"_this11\",\"key\",\"_this12\",\"setCount\",\"text\",\"_this14\",\"join\",\"isTyping\",\"intervalStopTyping\",\"keyPress\",\"preventDefault\",\"_this15\",\"clearTimeout\",\"setTimeout\",\"stopTyping\",\"event\",\"nextProps\",\"_this16\",\"rows\",\"onKeyDown\",\"ref\",\"onChange\",\"handleChange\",\"Audio\",\"src\",\"App\",\"isUserSiggedIn\",\"isWindowOnFocus\",\"setUserStatus\",\"_this17\",\"setWindowFocus\",\"readAll\",\"_this18\",\"play\",\"window\",\"addEventListener\",\"ReactDOM\",\"render\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './style.css';\\nimport './reset.css';\\nimport io from 'socket.io-client';\\nimport Linkify from 'linkifyjs/react';\\n\\nconst appSection = document.getElementById('chatApp')\\nconst socket = io.connect('http://127.0.0.1:5000/', {reconnect: true});\\n//window.location.hostname\\n\\nconst helperFunctions = {\\n\\tisEnterButton : (e) => {\\n\\t\\treturn (e.keyCode === 13) ? true : false;\\n\\t},\\n\\tisEnterCtrlButton : (e) => {\\n\\t\\treturn ((e.keyCode === 10 || e.keyCode === 13) && e.ctrlKey) ? true : false;\\n\\t},\\n\\tisEmptyValue : (val) => {\\n\\t\\treturn (val === '') ? true : false\\n\\t},\\n\\tnumericEnding : (number, one, two, five) => {\\n\\t    let n = Math.abs(number);\\n\\t    n %= 100;\\n\\t    if (n >= 5 && n <= 20) {\\n\\t    \\treturn five;\\n\\t    }\\n\\t    n %= 10;\\n\\t    if (n === 1) {\\n\\t    \\treturn one;\\n\\t    }\\n\\t    if (n >= 2 && n <= 4) {\\n\\t    \\treturn two;\\n\\t    }\\n\\t    return five;\\n\\t},\\n\\tparseTime : (date) => {\\n\\t\\tvar time = new Date(date);\\n\\t\\treturn (\\\"0\\\" + time.getHours()).slice(-2)   + \\\":\\\" +  (\\\"0\\\" + time.getMinutes()).slice(-2) + \\\":\\\" ;\\n\\t},\\n\\tparseDate : (date) => {\\n\\t\\tvar messageDate = new Date(date);\\n\\t\\tvar searchDate = new Date();\\n\\t\\tif(helperFunctions.compareDates(messageDate, searchDate))\\n\\t\\t\\treturn \\\"Сегодня\\\";\\n\\t\\tsearchDate.setDate(searchDate.getDate()-1);\\n\\t\\tif(helperFunctions.compareDates(messageDate, searchDate))\\n\\t\\t\\treturn \\\"Вчера\\\";\\n\\t\\treturn messageDate.getDate()+'.'+messageDate.getMonth()+'.'+messageDate.getFullYear();\\n\\t},\\n\\tcompareDates : (date1, date2) => {\\n\\t\\treturn (date1.getMonth() === date2.getMonth() && date1.getFullYear() === date2.getFullYear() &&  date1.getDate() === date2.getDate()) ? true : false;\\n\\t}\\n};\\n\\nclass LoginWindow extends React.Component {   \\n\\trender() { \\n\\t\\treturn (\\n\\t\\t   \\t<div className=\\\"username\\\">\\n\\t\\t   \\t<h1>Введите имя</h1>\\n\\t\\t   \\t<input type=\\\"text\\\" id='nickname' onKeyUp={(e) => this.props.checkEnterKey(e)} />\\n\\t\\t   \\t<p className='userWarning' >{this.props.error}</p>\\n\\t\\t   \\t</div>\\n\\t\\t);\\n\\t} \\n}\\n\\nclass LoginApp extends React.Component {\\n\\tstate = {\\n\\t\\terror : ''\\n\\t}\\n\\t\\n\\tcheckEnterKey = (e, val) => {\\n\\t\\tvar value = e.target.value.replace(/ /g, \\\"\\\");\\n\\t\\tif(helperFunctions.isEmptyValue(value)){\\n\\t\\t\\tthis.incorrectLogin();\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tthis.clearError();\\n\\t\\tif(!helperFunctions.isEnterButton(e))\\n\\t\\t\\treturn;\\n\\t\\tthis.sendLogin(value);\\n\\t}\\n\\n\\tsendLogin = (val) => {\\n\\t\\tsocket.emit('userName', {'user': val});\\n\\t}\\n\\n\\texistLogin = () => {\\n\\t\\tthis.setErrorStateFun('Такой пользователь уже есть');\\n\\t}\\n\\n\\tincorrectLogin = () => {\\n\\t\\tthis.setErrorStateFun('Недопустимое имя');\\n\\t}\\n\\n\\tclearError = () => {\\n\\t\\tthis.setErrorStateFun('');\\n\\t}\\n\\n\\tsetErrorStateFun = (val) => {\\n\\t\\tthis.setState({\\n\\t\\t\\terror : val\\n\\t\\t})\\n\\t}\\n\\n\\trender() {\\n\\t\\treturn <LoginWindow error={this.state.error} checkEnterKey={this.checkEnterKey} />;\\n\\t}\\n\\n\\tcomponentWillMount() {\\n        socket.on('existUsername', () => {\\n            this.existLogin();\\n        });\\n        socket.on('incorrectUsername', () => {\\n            this.incorrectLogin();\\n        });\\n    }\\n}\\n\\nclass ChatContainer extends React.Component { \\n\\tstate = {\\n\\t\\tusersList : {},\\n\\t\\tuid : 0,\\n\\t\\tmidEdit : -1,\\n\\t\\tmessage : ''\\n\\t}\\n\\n\\tsetEditMessage (mid, message){\\n\\t\\tthis.setState({\\n\\t\\t\\tmidEdit : mid,\\n\\t\\t\\tmessage : message\\n\\t\\t});\\n\\t}\\n\\n\\tsetUsers (users) {\\n\\t\\tthis.setState({\\n\\t\\t\\tusersList : users\\n\\t\\t});\\n\\t}\\n\\n\\tsetUid (uid) {\\n\\t\\tthis.setState({\\n\\t\\t\\tuid : uid\\n\\t\\t});\\n\\t}\\n\\n\\tmessageEdited = (mid = -1, message = '') => {\\n\\t\\tthis.setEditMessage(mid, message);\\n\\t}\\n\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t<section id='chatSection'>\\n\\t\\t\\t<Chat uid={this.state.uid} usersList={this.state.usersList} editMessage={this.messageEdited} edditingMessage={this.state.midEdit} />\\n\\t\\t\\t<UserTyping uid={this.state.uid} usersList={this.state.usersList}/>\\n\\t\\t\\t<MessageForm editMessage={this.state.message} midEdit={this.state.midEdit} messageEdited={this.messageEdited} />\\n\\t\\t\\t<UsersInfo usersList={this.state.usersList}/>\\n\\t\\t</section>\\n\\t\\t);\\n\\t} \\n\\n\\tcomponentWillMount() {\\n\\t\\tsocket.on('chatHistory', (data) => {\\n\\t\\t\\tthis.setUsers(data.userList);\\n\\t\\t});\\n\\t\\tsocket.on('userLoggedIn', (data) => {\\n\\t\\t\\tthis.setUid(data.uid);\\n\\t\\t});\\n\\t\\tsocket.on('toggleOnline', (data) => {\\n\\t\\t\\tthis.setUsers(data.usersList);\\n\\t\\t});\\n\\t\\tsocket.on('chatNewUser', (data) => {\\n\\t\\t\\tvar users = this.state.usersList;\\n\\t\\t\\tusers[data.uid] = data.user;\\n\\t\\t\\tthis.setUsers(users);\\n\\t\\t});\\n    }\\n\\n}\\n\\nclass Chat extends React.Component { \\n\\tstate = {\\n\\t\\tchatHistory : {},\\n\\t}\\n\\n\\tlastReadMessage = 0; \\n\\n\\tsetHistory (history) {\\n\\t\\tthis.setState({\\n\\t\\t\\tchatHistory : history\\n\\t\\t});\\n\\t}\\n\\n\\tscrollToBottom = () => {\\n\\t\\tvar list = document.getElementById(\\\"chat\\\");\\n\\t\\tlist.scrollTop = list.scrollHeight;\\n\\t}\\n\\n\\teditMessage = (mid) => {\\n\\t\\tif(mid === '' || mid === this.props.edditingMessage){\\n\\t\\t\\tthis.props.editMessage(-1, '');\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tthis.props.editMessage(mid, this.state.chatHistory[mid]['msg']);\\n\\t}\\n\\n\\trender() { \\n\\t\\tlet date = '';\\n\\t\\treturn (\\n\\t\\t    <div id=\\\"chat\\\">\\n\\t\\t\\t\\t{Object.keys(this.state.chatHistory).map(i => {\\n\\t\\t\\t\\t\\tlet userChanged = false,\\n\\t\\t\\t\\t\\t\\tdateChanged = false;\\n\\n\\t\\t\\t\\t\\tif(date !== helperFunctions.parseDate(this.state.chatHistory[i]['date'])){\\n\\t\\t\\t\\t\\t\\tdate = helperFunctions.parseDate(this.state.chatHistory[i]['date']);\\n\\t\\t\\t\\t\\t\\tdateChanged = true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tif(this.lastMessageUid !== this.state.chatHistory[i]['user']){\\n\\t\\t\\t\\t\\t\\tthis.lastMessageUid = this.state.chatHistory[i]['user'];\\n\\t\\t\\t\\t\\t\\tuserChanged = true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn [\\n\\t\\t\\t\\t\\t\\t(dateChanged === true) ?  \\n\\t\\t\\t\\t\\t\\t<div className=\\\"newUser dateMessage\\\">{date}</div>\\n\\t\\t\\t\\t\\t \\t: '',\\n\\t\\t\\t\\t\\t\\t(this.state.chatHistory[i]['isSystem'] === true) ?\\n\\t\\t\\t\\t\\t\\t<SystemMessage message={this.state.chatHistory[i]} /> :\\n\\t\\t\\t\\t\\t\\t<MessageItem message={this.state.chatHistory[i]} userChanged={userChanged} userName={(userChanged === true) ? this.props.usersList[this.lastMessageUid]['name'] : ''}  userColor={(userChanged === true) ? this.props.usersList[this.lastMessageUid]['color'] : ''} uid={this.props.uid} editMessage={this.editMessage} mid={i} isEdditing={this.props.edditingMessage === i ? true : false} />\\n\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t})}\\n\\t\\t\\t</div>\\n\\t\\t);\\n\\t} \\n\\n\\tcomponentWillMount() {\\n\\t\\tsocket.on('chatHistory', (data) => {\\n\\t\\t\\tthis.setHistory(data.chat);\\n\\t\\t});\\n\\t\\tsocket.on('rewriteMessage', (data) => {\\n\\t\\t\\tvar changeMessage = this.state.chatHistory;\\n\\t\\t\\tchangeMessage[data.mid] = data.message;\\n\\t\\t\\tthis.setHistory(changeMessage);\\n\\t\\t});\\n\\t\\tsocket.on('addMessage', (data) => {\\n\\t\\t\\tvar newMessage = this.state.chatHistory;\\n\\t\\t\\tnewMessage[data.id] = data.message;\\n\\t\\t\\tthis.setHistory(newMessage);\\n\\t\\t});\\n\\t\\tsocket.on('readAll', (data) => {\\n\\t\\t\\tvar messages = this.state.chatHistory;\\n\\t\\t\\tfor(let i = this.lastReadMessage; i<= data.toMessage; i++){\\n\\t\\t\\t\\tmessages[i]['unread'] = false;\\n\\t\\t\\t}\\n\\t\\t\\tthis.setHistory(messages);\\n\\t\\t\\tthis.lastReadMessage = data.toMessage;\\n\\t\\t});\\n    }\\n\\n    componentDidUpdate() {\\n\\t\\tthis.scrollToBottom();\\n\\t}\\n}\\n\\nclass SystemMessage extends React.Component {\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t    <div className=\\\"newUser\\\">{this.props.message['msg']}</div>\\n\\t\\t)\\n\\t}\\n}\\n\\nclass MessageItem extends React.Component {\\n\\trender() { \\n\\t\\tlet unread = (this.props.message['unread'] === true ? 'unreadMessages ' : '');\\n\\t\\tlet editting = (this.props.isEdditing === true ? 'editingMessage' : '');\\n\\t\\tlet messageClass = \\\"message_container \\\" + (this.props.message['isChanged'] === true ? 'editedMsg ' : '') + unread + ' ' + editting;\\n\\t\\tlet userMessageClass = \\\"message_container \\\"+unread;\\n\\t\\treturn (\\n\\t\\t    <div>\\n\\t\\t\\t\\t{(this.props.userChanged === true) ?  \\n\\t\\t\\t\\t\\t<div className={userMessageClass}>\\n\\t\\t\\t\\t\\t\\t<div className=\\\"date_name\\\">{helperFunctions.parseTime(this.props.message['date'])}\\n\\t\\t\\t\\t\\t\\t\\t<p className=\\\"user\\\" style={{'color' : this.props.userColor}} >{this.props.userName}</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t : '' }\\n\\t\\t\\t    <div className={messageClass}>\\n\\t\\t\\t    <Linkify tagName=\\\"p\\\" className=\\\"message\\\" onClick={() => this.props.editMessage(this.props.uid === this.props.message['user'] ? this.props.mid : '')}>{this.props.message['msg']}</Linkify>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t)\\n\\t}\\n}\\n\\nclass UsersInfo extends React.Component { \\n\\tstate = {\\n\\t\\tcount : 0,\\n\\t}\\n\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t    <div>\\n\\t\\t    \\t<div id=\\\"users_count\\\">В чате {this.state.count} пользовате{helperFunctions.numericEnding(this.state.count, 'ль', 'ля', 'лей')}.</div>\\n\\t\\t\\t\\t<div className=\\\"userList\\\">\\n\\t\\t\\t\\t    {Object.keys(this.props.usersList).map(i => (\\n\\t\\t\\t\\t    \\t(this.props.usersList[i]['inChat'] === false ) ? '' : \\n\\t\\t\\t\\t\\t\\t<p key={i} className={this.props.usersList[i]['online'] === true ? 'user_online' : 'user_gone'} >{this.props.usersList[i]['name']}</p>\\n\\t\\t\\t\\t\\t))}\\n\\n\\t\\t\\t\\t</div>\\n\\t\\t    </div>\\n\\t\\t);\\n\\t} \\n\\n\\tsetCount (count) {\\n\\t\\tthis.setState({\\n\\t\\t\\tcount : count\\n\\t\\t});\\n\\t}\\n\\n\\tcomponentWillMount() {\\n\\t\\tsocket.on('chatHistory', (data) => {\\n\\t\\t\\tthis.setCount(data.users);\\n\\t\\t});\\n\\t\\tsocket.on('usersCount', (data) => {\\n\\t\\t\\tthis.setCount(data);\\n\\t\\t});\\n    }\\n}\\n\\nclass UserTyping extends React.Component { \\n\\tstate = {\\n\\t\\ttext : '',\\n\\t}\\n\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t    <p id='usersTyping'>{this.state.text}</p>\\n\\t\\t);\\n\\t} \\n\\n\\tcomponentWillMount() {\\n\\t\\tsocket.on( 'usersTyping', (data) => {\\n\\t\\t\\tthis.setState({\\n\\t\\t\\t\\ttext : ( (data.users.length === 0) ? '' : data.users.join(', ')+' печата'+(data.users.length > 1 ? 'ют' : 'ет')+' сообщение:')\\n\\t\\t\\t});\\n\\t\\t})\\n    }\\n}\\n\\n\\nclass MessageForm extends React.Component { \\n\\tisTyping = false;\\n\\tintervalStopTyping = '';\\n\\tstate = {\\n\\t\\tmessage : ''\\n\\t}\\n\\n\\thandleChange(event) {\\n\\t\\tthis.setState({message: event.target.value})\\n\\t}\\n\\n\\tcomponentWillReceiveProps(nextProps) {\\t\\n\\t\\tthis.setState({message: nextProps.editMessage})\\n\\t}\\n\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t    <div className=\\\"form-group\\\">\\n\\t\\t\\t\\t<textarea className=\\\"form-control\\\" rows=\\\"3\\\" value={this.state.message} onKeyDown={(e) => this.keyPress(e)} ref=\\\"form-control\\\" onChange={(event) => this.handleChange(event)} />\\n\\t\\t\\t</div>\\n\\t\\t);\\n\\t} \\n\\n\\tkeyPress = (e) => {\\n\\t\\tif(helperFunctions.isEnterCtrlButton(e)){\\n\\t\\t\\te.target.value += '\\\\r\\\\n';\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tif(helperFunctions.isEnterButton(e)){\\n\\t\\t\\te.preventDefault();\\n\\t\\t\\tsocket.emit('addMessage', {'message': e.target.value, mid : this.props.midEdit});\\n\\t\\t\\tthis.setState({message: ''})\\n\\t\\t\\tthis.props.messageEdited(-1, '');\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tclearTimeout(this.intervalStopTyping);\\n\\t\\tthis.intervalStopTyping = setTimeout(this.stopTyping, 1000);\\n\\t\\tif(this.isTyping === true)\\n\\t\\t\\treturn;\\n\\t\\tsocket.emit('userTyping');\\n\\t\\tthis.isTyping = true;\\n\\t}\\n\\n\\tstopTyping = () => {\\n\\t\\tsocket.emit('userStopTyping');\\n\\t\\tthis.isTyping = false;\\n\\t}\\n\\n}\\n\\nclass Audio extends React.Component {   \\n\\trender() { \\n\\t\\treturn (\\n\\t\\t   \\t<audio id=\\\"chatAudio\\\">\\n\\t\\t\\t   \\t<source src=\\\"/src/notify.ogg\\\" type=\\\"audio/ogg\\\" />\\n\\t\\t\\t   \\t<source src=\\\"/src/notify.mp3\\\" type=\\\"audio/mpeg\\\" />\\n\\t\\t\\t   \\t<source src=\\\"/src/notify.wav\\\" type=\\\"audio/wav\\\" />\\n\\t\\t   \\t</audio>\\n\\t\\t);\\n\\t} \\n}\\n\\n\\nclass App extends React.Component {\\n\\tstate = {\\n\\t\\tisUserSiggedIn : false,\\n\\t\\tisWindowOnFocus : true,\\n\\t\\tuid : -1\\n\\t}\\n\\n\\trender() {\\n\\t\\treturn (\\n\\t\\t        <div>\\n\\t\\t        \\t<ChatContainer uid={this.state.uid} />\\n\\t\\t        \\t{(this.state.isUserSiggedIn === false) ? <LoginApp /> : ''}\\n\\t\\t        \\t{(this.state.isWindowOnFocus === false) ? <Audio /> : ''}\\n\\t\\t        </div>\\n\\t\\t        );\\n\\t}\\n\\n\\tsetUserStatus = (val) => {\\n\\t\\tthis.setState({\\n\\t\\t\\tisUserSiggedIn : val\\n\\t\\t});\\n\\t}\\n\\n\\tsetWindowFocus = (val) => {\\n\\t\\tthis.setState({\\n\\t\\t\\tisWindowOnFocus : val\\n\\t\\t});\\n\\t}\\n\\n\\treadAll = () => {\\n\\t\\tif(this.state.isUserSiggedIn === true && this.state.isWindowOnFocus === true)\\n\\t\\t\\tsocket.emit('readAll');\\n\\t}\\n\\n\\tcomponentWillMount() {\\n\\t\\tsocket.on('loginUser', (data) => {\\n\\t\\t\\tthis.setUserStatus(false);\\n\\t\\t});\\n\\t\\tsocket.on('addMessage', (data) => {\\n\\t\\t\\tthis.readAll();\\n\\t\\t\\tif(this.state.isUserSiggedIn === true && this.state.isWindowOnFocus === false)\\n\\t\\t\\t\\tdocument.getElementById('chatAudio').play();\\n\\t\\t});\\n\\t\\tsocket.on('userLoggedIn', (data) => {\\n\\t\\t\\tthis.setUserStatus(true);\\n\\t\\t});\\n\\t\\tsocket.on('returnUsername', (data) => {\\n\\t\\t\\tthis.setUserStatus(true);\\n\\t\\t\\tthis.setUid(data.uid);\\n\\t\\t});\\n\\t\\tsocket.on('disconnect', () => {\\n\\t\\t\\tthis.setUserStatus(false);\\n\\t\\t});\\n\\t\\twindow.addEventListener(\\\"focus\\\", (event) => {\\n\\t\\t\\tthis.setWindowFocus(true);\\n\\t\\t\\tsocket.emit('toggleOnline');\\n\\t\\t\\tthis.readAll();\\n\\t\\t})\\n\\t\\twindow.addEventListener(\\\"blur\\\", (event) => {\\n\\t\\t\\tthis.setWindowFocus(false);\\n\\t\\t\\tsocket.emit('toggleOnline');\\n\\t\\t})\\n    }\\n\\t\\n}\\n\\nReactDOM.render(\\n\\t<App />, appSection\\n)\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,s){e.exports=s(39)},39:function(e,t,s){\"use strict\";s.r(t);var n=s(1),a=s(2),r=s(4),i=s(3),o=s(5),c=s(0),u=s.n(c),l=s(35),d=s.n(l),g=(s(44),s(46),s(36)),p=s.n(g),m=s(37),h=s.n(m),f=document.getElementById(\"chatApp\"),y=p.a.connect(\"http://127.0.0.1:5000/\",{reconnect:!0}),v={isEnterButton:function(e){return 13===e.keyCode},isEnterCtrlButton:function(e){return!(10!==e.keyCode&&13!==e.keyCode||!e.ctrlKey)},isEmptyValue:function(e){return\"\"===e},numericEnding:function(e,t,s,n){var a=Math.abs(e);return(a%=100)>=5&&a<=20?n:1===(a%=10)?t:a>=2&&a<=4?s:n},parseTime:function(e){var t=new Date(e);return(\"0\"+t.getHours()).slice(-2)+\":\"+(\"0\"+t.getMinutes()).slice(-2)+\":\"},parseDate:function(e){var t=new Date(e),s=new Date;return v.compareDates(t,s)?\"\\u0421\\u0435\\u0433\\u043e\\u0434\\u043d\\u044f\":(s.setDate(s.getDate()-1),v.compareDates(t,s)?\"\\u0412\\u0447\\u0435\\u0440\\u0430\":t.getDate()+\".\"+t.getMonth()+\".\"+t.getFullYear())},compareDates:function(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()&&e.getDate()===t.getDate()}},E=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){var e=this;return u.a.createElement(\"div\",{className:\"username\"},u.a.createElement(\"h1\",null,\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043c\\u044f\"),u.a.createElement(\"input\",{type:\"text\",id:\"nickname\",onKeyUp:function(t){return e.props.checkEnterKey(t)}}),u.a.createElement(\"p\",{className:\"userWarning\"},this.props.error))}}]),t}(u.a.Component),O=function(e){function t(){var e,s;Object(n.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(s=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={error:\"\"},s.checkEnterKey=function(e,t){var n=e.target.value.replace(/ /g,\"\");v.isEmptyValue(n)?s.incorrectLogin():(s.clearError(),v.isEnterButton(e)&&s.sendLogin(n))},s.sendLogin=function(e){y.emit(\"userName\",{user:e})},s.existLogin=function(){s.setErrorStateFun(\"\\u0422\\u0430\\u043a\\u043e\\u0439 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044c \\u0443\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044c\")},s.incorrectLogin=function(){s.setErrorStateFun(\"\\u041d\\u0435\\u0434\\u043e\\u043f\\u0443\\u0441\\u0442\\u0438\\u043c\\u043e\\u0435 \\u0438\\u043c\\u044f\")},s.clearError=function(){s.setErrorStateFun(\"\")},s.setErrorStateFun=function(e){s.setState({error:e})},s}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){return u.a.createElement(E,{error:this.state.error,checkEnterKey:this.checkEnterKey})}},{key:\"componentWillMount\",value:function(){var e=this;y.on(\"existUsername\",function(){e.existLogin()}),y.on(\"incorrectUsername\",function(){e.incorrectLogin()})}}]),t}(u.a.Component),b=function(e){function t(){var e,s;Object(n.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(s=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={usersList:{},uid:0,midEdit:-1,message:\"\"},s.messageEdited=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";s.setEditMessage(e,t)},s}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"setEditMessage\",value:function(e,t){this.setState({midEdit:e,message:t})}},{key:\"setUsers\",value:function(e){this.setState({usersList:e})}},{key:\"setUid\",value:function(e){this.setState({uid:e})}},{key:\"render\",value:function(){return u.a.createElement(\"section\",{id:\"chatSection\"},u.a.createElement(j,{uid:this.state.uid,usersList:this.state.usersList,editMessage:this.messageEdited,edditingMessage:this.state.midEdit}),u.a.createElement(S,{uid:this.state.uid,usersList:this.state.usersList}),u.a.createElement(C,{editMessage:this.state.message,midEdit:this.state.midEdit,messageEdited:this.messageEdited}),u.a.createElement(w,{usersList:this.state.usersList}))}},{key:\"componentWillMount\",value:function(){var e=this;y.on(\"chatHistory\",function(t){e.setUsers(t.userList)}),y.on(\"userLoggedIn\",function(t){e.setUid(t.uid)}),y.on(\"toggleOnline\",function(t){e.setUsers(t.usersList)}),y.on(\"chatNewUser\",function(t){var s=e.state.usersList;s[t.uid]=t.user,e.setUsers(s)})}}]),t}(u.a.Component),j=function(e){function t(){var e,s;Object(n.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(s=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={chatHistory:{}},s.lastReadMessage=0,s.scrollToBottom=function(){var e=document.getElementById(\"chat\");e.scrollTop=e.scrollHeight},s.editMessage=function(e){\"\"!==e&&e!==s.props.edditingMessage?s.props.editMessage(e,s.state.chatHistory[e].msg):s.props.editMessage(-1,\"\")},s}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"setHistory\",value:function(e){this.setState({chatHistory:e})}},{key:\"render\",value:function(){var e=this,t=\"\";return u.a.createElement(\"div\",{id:\"chat\"},Object.keys(this.state.chatHistory).map(function(s){var n=!1,a=!1;return t!==v.parseDate(e.state.chatHistory[s].date)&&(t=v.parseDate(e.state.chatHistory[s].date),a=!0),e.lastMessageUid!==e.state.chatHistory[s].user&&(e.lastMessageUid=e.state.chatHistory[s].user,n=!0),[!0===a?u.a.createElement(\"div\",{className:\"newUser dateMessage\"},t):\"\",!0===e.state.chatHistory[s].isSystem?u.a.createElement(M,{message:e.state.chatHistory[s]}):u.a.createElement(k,{message:e.state.chatHistory[s],userChanged:n,userName:!0===n?e.props.usersList[e.lastMessageUid].name:\"\",userColor:!0===n?e.props.usersList[e.lastMessageUid].color:\"\",uid:e.props.uid,editMessage:e.editMessage,mid:s,isEdditing:e.props.edditingMessage===s})]}))}},{key:\"componentWillMount\",value:function(){var e=this;y.on(\"chatHistory\",function(t){e.setHistory(t.chat)}),y.on(\"rewriteMessage\",function(t){var s=e.state.chatHistory;s[t.mid]=t.message,e.setHistory(s)}),y.on(\"addMessage\",function(t){var s=e.state.chatHistory;s[t.id]=t.message,e.setHistory(s)}),y.on(\"readAll\",function(t){for(var s=e.state.chatHistory,n=e.lastReadMessage;n<=t.toMessage;n++)s[n].unread=!1;e.setHistory(s),e.lastReadMessage=t.toMessage})}},{key:\"componentDidUpdate\",value:function(){this.scrollToBottom()}}]),t}(u.a.Component),M=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){return u.a.createElement(\"div\",{className:\"newUser\"},this.props.message.msg)}}]),t}(u.a.Component),k=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){var e=this,t=!0===this.props.message.unread?\"unreadMessages \":\"\",s=!0===this.props.isEdditing?\"editingMessage\":\"\",n=\"message_container \"+(!0===this.props.message.isChanged?\"editedMsg \":\"\")+t+\" \"+s,a=\"message_container \"+t;return u.a.createElement(\"div\",null,!0===this.props.userChanged?u.a.createElement(\"div\",{className:a},u.a.createElement(\"div\",{className:\"date_name\"},v.parseTime(this.props.message.date),u.a.createElement(\"p\",{className:\"user\",style:{color:this.props.userColor}},this.props.userName))):\"\",u.a.createElement(\"div\",{className:n},u.a.createElement(h.a,{tagName:\"p\",className:\"message\",onClick:function(){return e.props.editMessage(e.props.uid===e.props.message.user?e.props.mid:\"\")}},this.props.message.msg)))}}]),t}(u.a.Component),w=function(e){function t(){var e,s;Object(n.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(s=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={count:0},s}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){var e=this;return u.a.createElement(\"div\",null,u.a.createElement(\"div\",{id:\"users_count\"},\"\\u0412 \\u0447\\u0430\\u0442\\u0435 \",this.state.count,\" \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\",v.numericEnding(this.state.count,\"\\u043b\\u044c\",\"\\u043b\\u044f\",\"\\u043b\\u0435\\u0439\"),\".\"),u.a.createElement(\"div\",{className:\"userList\"},Object.keys(this.props.usersList).map(function(t){return!1===e.props.usersList[t].inChat?\"\":u.a.createElement(\"p\",{key:t,className:!0===e.props.usersList[t].online?\"user_online\":\"user_gone\"},e.props.usersList[t].name)})))}},{key:\"setCount\",value:function(e){this.setState({count:e})}},{key:\"componentWillMount\",value:function(){var e=this;y.on(\"chatHistory\",function(t){e.setCount(t.users)}),y.on(\"usersCount\",function(t){e.setCount(t)})}}]),t}(u.a.Component),S=function(e){function t(){var e,s;Object(n.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(s=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={text:\"\"},s}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){return u.a.createElement(\"p\",{id:\"usersTyping\"},this.state.text)}},{key:\"componentWillMount\",value:function(){var e=this;y.on(\"usersTyping\",function(t){e.setState({text:0===t.users.length?\"\":t.users.join(\", \")+\" \\u043f\\u0435\\u0447\\u0430\\u0442\\u0430\"+(t.users.length>1?\"\\u044e\\u0442\":\"\\u0435\\u0442\")+\" \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435:\"})})}}]),t}(u.a.Component),C=function(e){function t(){var e,s;Object(n.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(s=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).isTyping=!1,s.intervalStopTyping=\"\",s.state={message:\"\"},s.keyPress=function(e){if(v.isEnterCtrlButton(e))e.target.value+=\"\\r\\n\";else{if(v.isEnterButton(e))return e.preventDefault(),y.emit(\"addMessage\",{message:e.target.value,mid:s.props.midEdit}),s.setState({message:\"\"}),void s.props.messageEdited(-1,\"\");clearTimeout(s.intervalStopTyping),s.intervalStopTyping=setTimeout(s.stopTyping,1e3),!0!==s.isTyping&&(y.emit(\"userTyping\"),s.isTyping=!0)}},s.stopTyping=function(){y.emit(\"userStopTyping\"),s.isTyping=!1},s}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"handleChange\",value:function(e){this.setState({message:e.target.value})}},{key:\"componentWillReceiveProps\",value:function(e){this.setState({message:e.editMessage})}},{key:\"render\",value:function(){var e=this;return u.a.createElement(\"div\",{className:\"form-group\"},u.a.createElement(\"textarea\",{className:\"form-control\",rows:\"3\",value:this.state.message,onKeyDown:function(t){return e.keyPress(t)},ref:\"form-control\",onChange:function(t){return e.handleChange(t)}}))}}]),t}(u.a.Component),U=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){return u.a.createElement(\"audio\",{id:\"chatAudio\"},u.a.createElement(\"source\",{src:\"/src/notify.ogg\",type:\"audio/ogg\"}),u.a.createElement(\"source\",{src:\"/src/notify.mp3\",type:\"audio/mpeg\"}),u.a.createElement(\"source\",{src:\"/src/notify.wav\",type:\"audio/wav\"}))}}]),t}(u.a.Component),L=function(e){function t(){var e,s;Object(n.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(s=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={isUserSiggedIn:!1,isWindowOnFocus:!0,uid:-1},s.setUserStatus=function(e){s.setState({isUserSiggedIn:e})},s.setWindowFocus=function(e){s.setState({isWindowOnFocus:e})},s.readAll=function(){!0===s.state.isUserSiggedIn&&!0===s.state.isWindowOnFocus&&y.emit(\"readAll\")},s}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){return u.a.createElement(\"div\",null,u.a.createElement(b,{uid:this.state.uid}),!1===this.state.isUserSiggedIn?u.a.createElement(O,null):\"\",!1===this.state.isWindowOnFocus?u.a.createElement(U,null):\"\")}},{key:\"componentWillMount\",value:function(){var e=this;y.on(\"loginUser\",function(t){e.setUserStatus(!1)}),y.on(\"addMessage\",function(t){e.readAll(),!0===e.state.isUserSiggedIn&&!1===e.state.isWindowOnFocus&&document.getElementById(\"chatAudio\").play()}),y.on(\"userLoggedIn\",function(t){e.setUserStatus(!0)}),y.on(\"returnUsername\",function(t){e.setUserStatus(!0),e.setUid(t.uid)}),y.on(\"disconnect\",function(){e.setUserStatus(!1)}),window.addEventListener(\"focus\",function(t){e.setWindowFocus(!0),y.emit(\"toggleOnline\"),e.readAll()}),window.addEventListener(\"blur\",function(t){e.setWindowFocus(!1),y.emit(\"toggleOnline\")})}}]),t}(u.a.Component);d.a.render(u.a.createElement(L,null),f)},44:function(e,t,s){},46:function(e,t,s){},73:function(e,t){}},[[38,2,1]]]);","extractedComments":[]}