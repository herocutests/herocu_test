{"map":"{\"version\":3,\"sources\":[\"G:\\\\OSPanel\\\\domains\\\\new_react\\\\src\\\\serviceWorker.js\",\"G:\\\\OSPanel\\\\domains\\\\new_react\\\\src\\\\index.js\"],\"names\":[\"Boolean\",\"window\",\"location\",\"hostname\",\"match\",\"appSection\",\"document\",\"getElementById\",\"socket\",\"io\",\"connect\",\"reconnect\",\"helperFunctions\",\"isEnterButton\",\"e\",\"keyCode\",\"isEnterCtrlButton\",\"ctrlKey\",\"isEmptyValue\",\"val\",\"numericEnding\",\"number\",\"one\",\"two\",\"five\",\"n\",\"Math\",\"abs\",\"parseTime\",\"date\",\"time\",\"Date\",\"getHours\",\"slice\",\"getMinutes\",\"parseDate\",\"messageDate\",\"searchDate\",\"compareDates\",\"setDate\",\"getDate\",\"getMonth\",\"getFullYear\",\"date1\",\"date2\",\"LoginWindow\",\"props\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"_this\",\"react_default\",\"a\",\"createElement\",\"className\",\"type\",\"id\",\"onKeyUp\",\"checkEnterKey\",\"error\",\"React\",\"Component\",\"LoginApp\",\"_this2\",\"state\",\"value\",\"target\",\"replace\",\"incorrectLogin\",\"clearError\",\"sendLogin\",\"emit\",\"user\",\"existLogin\",\"setErrorStateFun\",\"setState\",\"src_LoginWindow\",\"_this3\",\"on\",\"ChatContainer\",\"_this4\",\"usersList\",\"uid\",\"midEdit\",\"message\",\"mid\",\"users\",\"src_Chat\",\"src_UserTyping\",\"src_MessageForm\",\"editMessage\",\"src_UsersInfo\",\"_this5\",\"data\",\"setUsers\",\"userList\",\"setUid\",\"Chat\",\"_this6\",\"chatHistory\",\"lastReadMessage\",\"scrollToBottom\",\"list\",\"scrollTop\",\"scrollHeight\",\"history\",\"_this7\",\"keys\",\"map\",\"i\",\"userChanged\",\"dateChanged\",\"lastMessageUid\",\"src_SystemMessage\",\"src_MessageItem\",\"userName\",\"userColor\",\"_this8\",\"setHistory\",\"chat\",\"newMessage\",\"messages\",\"toMessage\",\"SystemMessage\",\"MessageItem\",\"_this9\",\"unread\",\"messageClass\",\"userMessageClass\",\"text\",\"length\",\"href\",\"style\",\"color\",\"onClick\",\"UsersInfo\",\"_this10\",\"count\",\"_this11\",\"_this12\",\"setCount\",\"UserTyping\",\"_this13\",\"_this14\",\"join\",\"MessageForm\",\"_this15\",\"isTyping\",\"intervalStopTyping\",\"keyPress\",\"preventDefault\",\"clearTimeout\",\"setTimeout\",\"stopTyping\",\"_this16\",\"rows\",\"onKeyDown\",\"Audio\",\"src\",\"App\",\"_this17\",\"isUserSiggedIn\",\"isWindowOnFocus\",\"setUserStatus\",\"setWindowFocus\",\"readAll\",\"src_ChatContainer\",\"src_LoginApp\",\"src_Audio\",\"_this18\",\"play\",\"addEventListener\",\"event\",\"ReactDOM\",\"render\",\"src_App\",\"navigator\",\"serviceWorker\",\"ready\",\"then\",\"registration\",\"unregister\"],\"mappings\":\"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\",\"sourcesContent\":[\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read http://bit.ly/CRA-PWA\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        if (installingWorker == null) {\\n          return;\\n        }\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      const contentType = response.headers.get('content-type');\\n      if (\\n        response.status === 404 ||\\n        (contentType != null && contentType.indexOf('javascript') === -1)\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './style.css';\\nimport './reset.css';\\nimport * as serviceWorker from './serviceWorker';\\nimport io from 'socket.io-client';\\n\\nconst appSection = document.getElementById('chatApp')\\nconst socket = io.connect('http://127.0.0.1:5000/', {reconnect: true});\\n\\nconst helperFunctions = {\\n\\tisEnterButton : (e) => {\\n\\t\\treturn (e.keyCode == 13) ? true : false;\\n\\t},\\n\\tisEnterCtrlButton : (e) => {\\n\\t\\treturn ((e.keyCode == 10 || e.keyCode == 13) && e.ctrlKey) ? true : false;\\n\\t},\\n\\tisEmptyValue : (val) => {\\n\\t\\treturn (val == '') ? true : false\\n\\t},\\n\\tnumericEnding : (number, one, two, five) => {\\n\\t    let n = Math.abs(number);\\n\\t    n %= 100;\\n\\t    if (n >= 5 && n <= 20) {\\n\\t    \\treturn five;\\n\\t    }\\n\\t    n %= 10;\\n\\t    if (n === 1) {\\n\\t    \\treturn one;\\n\\t    }\\n\\t    if (n >= 2 && n <= 4) {\\n\\t    \\treturn two;\\n\\t    }\\n\\t    return five;\\n\\t},\\n\\tparseTime : (date) => {\\n\\t\\tvar time = new Date(date);\\n\\t\\treturn (\\\"0\\\" + time.getHours()).slice(-2)   + \\\":\\\" +  (\\\"0\\\" + time.getMinutes()).slice(-2) + \\\":\\\" ;\\n\\t},\\n\\tparseDate : (date) => {\\n\\t\\tvar messageDate = new Date(date);\\n\\t\\tvar searchDate = new Date();\\n\\t\\tif(helperFunctions.compareDates(messageDate, searchDate))\\n\\t\\t\\treturn \\\"Сегодня\\\";\\n\\t\\tsearchDate.setDate(searchDate.getDate()-1);\\n\\t\\tif(helperFunctions.compareDates(messageDate, searchDate))\\n\\t\\t\\treturn \\\"Вчера\\\";\\n\\t\\treturn messageDate.getDate()+'.'+messageDate.getMonth()+'.'+messageDate.getFullYear();\\n\\t},\\n\\tcompareDates : (date1, date2) => {\\n\\t\\treturn (date1.getMonth() == date2.getMonth() && date1.getFullYear() == date2.getFullYear() &&  date1.getDate() == date2.getDate()) ? true : false;\\n\\t}\\n};\\n\\nclass LoginWindow extends React.Component {   \\n\\tconstructor (props) {\\n\\t    super(props)\\n\\t} \\n\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t   \\t<div className=\\\"username\\\">\\n\\t\\t   \\t<h1>Введите имя</h1>\\n\\t\\t   \\t<input type=\\\"text\\\" id='nickname' onKeyUp={(e) => this.props.checkEnterKey(e)} />\\n\\t\\t   \\t<p className='userWarning' >{this.props.error}</p>\\n\\t\\t   \\t</div>\\n\\t\\t);\\n\\t} \\n}\\n\\nclass LoginApp extends React.Component {\\n\\tconstructor (props) {\\n        super(props);\\n\\t}\\n\\n\\tstate = {\\n\\t\\terror : ''\\n\\t}\\n\\t\\n\\tcheckEnterKey = (e, val) => {\\n\\t\\tvar value = e.target.value.replace(/ /g, \\\"\\\");\\n\\t\\tif(helperFunctions.isEmptyValue(value)){\\n\\t\\t\\tthis.incorrectLogin();\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tthis.clearError();\\n\\t\\tif(!helperFunctions.isEnterButton(e))\\n\\t\\t\\treturn;\\n\\t\\tthis.sendLogin(value);\\n\\t}\\n\\n\\tsendLogin = (val) => {\\n\\t\\tsocket.emit('userName', {'user': val});\\n\\t}\\n\\n\\texistLogin = () => {\\n\\t\\tthis.setErrorStateFun('Такой пользователь уже есть');\\n\\t}\\n\\n\\tincorrectLogin = () => {\\n\\t\\tthis.setErrorStateFun('Недопустимое имя');\\n\\t}\\n\\n\\tclearError = () => {\\n\\t\\tthis.setErrorStateFun('');\\n\\t}\\n\\n\\tsetErrorStateFun = (val) => {\\n\\t\\tthis.setState({\\n\\t\\t\\terror : val\\n\\t\\t})\\n\\t}\\n\\n\\trender() {\\n\\t\\treturn <LoginWindow error={this.state.error} checkEnterKey={this.checkEnterKey} />;\\n\\t}\\n\\n\\tcomponentWillMount() {\\n        socket.on('existUsername', () => {\\n            this.existLogin();\\n        });\\n        socket.on('incorrectUsername', () => {\\n            this.incorrectLogin();\\n        });\\n    }\\n}\\n\\nclass ChatContainer extends React.Component { \\n\\tconstructor (props) {\\n\\t    super(props)\\n\\t} \\n\\n\\tstate = {\\n\\t\\tusersList : {},\\n\\t\\tuid : 0,\\n\\t\\tmidEdit : -1,\\n\\t\\tmessage : ''\\n\\t}\\n\\n\\tsetEditMessage (mid, message){\\n\\t\\tthis.setState({\\n\\t\\t\\tmidEdit : mid,\\n\\t\\t\\tmessage : message\\n\\t\\t});\\n\\t}\\n\\n\\tsetUsers (users) {\\n\\t\\tthis.setState({\\n\\t\\t\\tusersList : users\\n\\t\\t});\\n\\t}\\n\\n\\tsetUid (uid) {\\n\\t\\tthis.setState({\\n\\t\\t\\tuid : uid\\n\\t\\t});\\n\\t}\\n\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t<section id='chatSection'>\\n\\t\\t\\t<Chat uid={this.state.uid} usersList={this.state.usersList} />\\n\\t\\t\\t<UserTyping uid={this.state.uid} usersList={this.state.usersList}/>\\n\\t\\t\\t<MessageForm editMessage={this.state.message} midEdit={this.state.midEdit} />\\n\\t\\t\\t<UsersInfo usersList={this.state.usersList}/>\\n\\t\\t</section>\\n\\t\\t);\\n\\t} \\n\\n\\tcomponentWillMount() {\\n\\t\\tsocket.on('chatHistory', (data) => {\\n\\t\\t\\tthis.setUsers(data.userList);\\n\\t\\t});\\n\\t\\tsocket.on('userLoggedIn', (data) => {\\n\\t\\t\\tthis.setUid(data.uid);\\n\\t\\t});\\n\\t\\tsocket.on('toggleOnline', (data) => {\\n\\t\\t\\tthis.setUsers(data.usersList);\\n\\t\\t});\\n\\t\\tsocket.on('chatNewUser', (data) => {\\n\\t\\t\\tvar users = this.state.usersList;\\n\\t\\t\\tusers[data.uid] = data.user;\\n\\t\\t\\tthis.setUsers(users);\\n\\t\\t});\\n    }\\n\\n}\\n\\nclass Chat extends React.Component { \\n\\tconstructor (props) {\\n\\t    super(props);\\n\\t} \\n\\n\\tstate = {\\n\\t\\tchatHistory : {},\\n\\t}\\n\\n\\tlastReadMessage = 0; \\n\\n\\tsetHistory (history) {\\n\\t\\tthis.setState({\\n\\t\\t\\tchatHistory : history\\n\\t\\t});\\n\\t}\\n\\n\\tscrollToBottom = () => {\\n\\t\\tvar list = document.getElementById(\\\"chat\\\");\\n\\t\\tlist.scrollTop = list.scrollHeight;\\n\\t}\\n\\n\\teditMessage = (mid) => {\\n\\t\\tthis.props.editMessage(mid);\\n\\t}\\n\\n\\trender() { \\n\\t\\tlet date = '';\\n\\t\\treturn (\\n\\t\\t    <div id=\\\"chat\\\">\\n\\t\\t\\t\\t{Object.keys(this.state.chatHistory).map(i => {\\n\\t\\t\\t\\t\\tlet userChanged = false,\\n\\t\\t\\t\\t\\t\\tdateChanged = false;\\n\\n\\t\\t\\t\\t\\tif(date != helperFunctions.parseDate(this.state.chatHistory[i]['date'])){\\n\\t\\t\\t\\t\\t\\tdate = helperFunctions.parseDate(this.state.chatHistory[i]['date']);\\n\\t\\t\\t\\t\\t\\tdateChanged = true;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tif(this.lastMessageUid != this.state.chatHistory[i]['user']){\\n\\t\\t\\t\\t\\t\\tthis.lastMessageUid = this.state.chatHistory[i]['user'];\\n\\t\\t\\t\\t\\t\\tuserChanged = true;\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\treturn [\\n\\t\\t\\t\\t\\t\\t(dateChanged === true) ?  \\n\\t\\t\\t\\t\\t\\t<div className=\\\"newUser dateMessage\\\">{date}</div>\\n\\t\\t\\t\\t\\t \\t: '',\\n\\t\\t\\t\\t\\t\\t(this.state.chatHistory[i]['isSystem'] === true) ?\\n\\t\\t\\t\\t\\t\\t<SystemMessage message={this.state.chatHistory[i]} /> :\\n\\t\\t\\t\\t\\t\\t<MessageItem message={this.state.chatHistory[i]} userChanged={userChanged} userName={(userChanged === true) ? this.props.usersList[this.lastMessageUid]['name'] : ''}  userColor={(userChanged === true) ? this.props.usersList[this.lastMessageUid]['color'] : ''} uid={this.props.uid} editMessage={this.editMessage} mid={i} />\\n\\t\\t\\t\\t\\t]\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t})}\\n\\t\\t\\t</div>\\n\\t\\t);\\n\\t} \\n\\n\\tcomponentWillMount() {\\n\\t\\tsocket.on('chatHistory', (data) => {\\n\\t\\t\\tthis.setHistory(data.chat);\\n\\t\\t});\\n\\t\\tsocket.on('addMessage', (data) => {\\n\\t\\t\\tvar newMessage = this.state.chatHistory;\\n\\t\\t\\tnewMessage[data.id] = data.message;\\n\\t\\t\\tthis.setHistory(newMessage);\\n\\t\\t});\\n\\t\\tsocket.on('readAll', (data) => {\\n\\t\\t\\tvar messages = this.state.chatHistory;\\n\\t\\t\\tfor(let i = this.lastReadMessage; i<= data.toMessage; i++){\\n\\t\\t\\t\\tmessages[i]['unread'] = false;\\n\\t\\t\\t}\\n\\t\\t\\tthis.setHistory(messages);\\n\\t\\t\\tthis.lastReadMessage = data.toMessage;\\n\\t\\t});\\n    }\\n\\n    componentDidUpdate() {\\n\\t\\tthis.scrollToBottom();\\n\\t}\\n}\\n\\nclass SystemMessage extends React.Component {\\n\\tconstructor (props) {\\n\\t    super(props);\\n\\t} \\n\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t    <div className=\\\"newUser\\\">{this.props.message['msg']}</div>\\n\\t\\t)\\n\\t}\\n}\\n\\nclass MessageItem extends React.Component {\\n\\tconstructor (props) {\\n\\t    super(props);\\n\\t} \\n\\n\\trender() { \\n\\t\\tlet unread = (this.props.message['unread'] === true ? 'unreadMessages ' : '');\\n\\t\\tlet messageClass = \\\"message_container \\\" + (this.props.message['isChanged'] === true ? 'editedMsg ' : '') + unread;\\n\\t\\tlet userMessageClass = \\\"message_container \\\"+unread;\\n\\t\\tconst re = /(http|https|www)\\\\S+/g;\\n\\t\\tlet match = this.props.message['msg'].match(re);\\n\\t\\tlet text = this.props.message['msg'];\\n\\t\\tif(match != null){\\n\\t\\t    for (let i = 0; i < match.length; i++) {\\n\\t\\t    \\ttext = text.replace(match[i], <a href={match[i]}>{match[i]}</a> );\\n\\t\\t    }\\n\\t\\t}\\n\\t\\treturn (\\n\\t\\t    <div>\\n\\t\\t\\t\\t{(this.props.userChanged === true) ?  \\n\\t\\t\\t\\t\\t<div className={userMessageClass}>\\n\\t\\t\\t\\t\\t\\t<div className=\\\"date_name\\\">{helperFunctions.parseTime(this.props.message['date'])}\\n\\t\\t\\t\\t\\t\\t\\t<p className=\\\"user\\\" style={{'color' : this.props.userColor}} >{this.props.userName}</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t : '' }\\n\\t\\t\\t    <div className={messageClass}>\\n\\t\\t\\t\\t\\t<p className=\\\"message\\\" onClick={this.props.uid == this.props.message['user'] ? () => this.props.editMessage(this.props.mid) : '' }>{text}</p>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t)\\n\\t}\\n}\\n\\nclass UsersInfo extends React.Component { \\n\\tconstructor (props) {\\n\\t    super(props);\\n\\t} \\n\\tstate = {\\n\\t\\tcount : 0,\\n\\t}\\n\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t    <div>\\n\\t\\t    \\t<div id=\\\"users_count\\\">В чате {this.state.count} пользовате{helperFunctions.numericEnding(this.state.count, 'ль', 'ля', 'лей')}.</div>\\n\\t\\t\\t\\t<div className=\\\"userList\\\">\\n\\t\\t\\t\\t    {Object.keys(this.props.usersList).map(i => (\\n\\t\\t\\t\\t    \\t(this.props.usersList[i]['inChat'] == false ) ? '' : \\n\\t\\t\\t\\t\\t\\t<p className={this.props.usersList[i]['online'] == true ? 'user_online' : 'user_gone'} >{this.props.usersList[i]['name']}</p>\\n\\t\\t\\t\\t\\t))}\\n\\n\\t\\t\\t\\t</div>\\n\\t\\t    </div>\\n\\t\\t);\\n\\t} \\n\\n\\tsetCount (count) {\\n\\t\\tthis.setState({\\n\\t\\t\\tcount : count\\n\\t\\t});\\n\\t}\\n\\n\\tcomponentWillMount() {\\n\\t\\tsocket.on('chatHistory', (data) => {\\n\\t\\t\\tthis.setCount(data.users);\\n\\t\\t});\\n\\t\\tsocket.on('usersCount', (data) => {\\n\\t\\t\\tthis.setCount(data);\\n\\t\\t});\\n    }\\n}\\n\\nclass UserTyping extends React.Component { \\n\\tconstructor (props) {\\n\\t    super(props);\\n\\t} \\n\\tstate = {\\n\\t\\ttext : '',\\n\\t}\\n\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t    <p id='usersTyping'>{this.state.text}</p>\\n\\t\\t);\\n\\t} \\n\\n\\tcomponentWillMount() {\\n\\t\\tsocket.on( 'usersTyping', (data) => {\\n\\t\\t\\tthis.setState({\\n\\t\\t\\t\\ttext : ( (data.users.length == 0) ? '' : data.users.join(', ')+' печата'+(data.users.length > 1 ? 'ют' : 'ет')+' сообщение:')\\n\\t\\t\\t});\\n\\t\\t})\\n    }\\n}\\n\\n\\nclass MessageForm extends React.Component { \\n\\tconstructor (props) {\\n\\t    super(props)\\n\\t} \\n\\tisTyping = false;\\n\\tintervalStopTyping = '';\\n\\n\\trender() { \\n\\t\\treturn (\\n\\t\\t    <div className=\\\"form-group\\\">\\n\\t\\t\\t\\t<textarea className=\\\"form-control\\\" rows=\\\"3\\\" onKeyDown={(e) => this.keyPress(e)} ></textarea>\\n\\t\\t\\t</div>\\n\\t\\t);\\n\\t} \\n\\n\\tkeyPress = (e) => {\\n\\t\\tif(helperFunctions.isEnterCtrlButton(e)){\\n\\t\\t\\te.target.value += '\\\\r\\\\n';\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tif(helperFunctions.isEnterButton(e)){\\n\\t\\t\\te.preventDefault();\\n\\t\\t\\tsocket.emit('addMessage', {'message': e.target.value, mid : -1});\\n\\t\\t\\te.target.value = '';\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\t\\tclearTimeout(this.intervalStopTyping);\\n\\t\\tthis.intervalStopTyping = setTimeout(this.stopTyping, 1000);\\n\\t\\tif(this.isTyping == true)\\n\\t\\t\\treturn;\\n\\t\\tsocket.emit('userTyping');\\n\\t\\tthis.isTyping = true;\\n\\t}\\n\\n\\tstopTyping = () => {\\n\\t\\tsocket.emit('userStopTyping');\\n\\t\\tthis.isTyping = false;\\n\\t}\\n\\n}\\n\\nclass Audio extends React.Component {   \\n\\trender() { \\n\\t\\treturn (\\n\\t\\t   \\t<audio id=\\\"chatAudio\\\">\\n\\t\\t\\t   \\t<source src=\\\"/src/notify.ogg\\\" type=\\\"audio/ogg\\\" />\\n\\t\\t\\t   \\t<source src=\\\"/src/notify.mp3\\\" type=\\\"audio/mpeg\\\" />\\n\\t\\t\\t   \\t<source src=\\\"/src/notify.wav\\\" type=\\\"audio/wav\\\" />\\n\\t\\t   \\t</audio>\\n\\t\\t);\\n\\t} \\n}\\n\\n\\nclass App extends React.Component {\\n\\tconstructor (props) {\\n        super(props);\\n\\t}\\n\\n\\tstate = {\\n\\t\\tisUserSiggedIn : false,\\n\\t\\tisWindowOnFocus : true,\\n\\t\\tuid : -1\\n\\t}\\n\\n\\trender() {\\n\\t\\treturn (\\n\\t\\t        <div>\\n\\t\\t        \\t<ChatContainer uid={this.state.uid} />\\n\\t\\t        \\t{(this.state.isUserSiggedIn == false) ? <LoginApp /> : ''}\\n\\t\\t        \\t{(this.state.isWindowOnFocus == false) ? <Audio /> : ''}\\n\\t\\t        </div>\\n\\t\\t        );\\n\\t}\\n\\n\\tsetUserStatus = (val) => {\\n\\t\\tthis.setState({\\n\\t\\t\\tisUserSiggedIn : val\\n\\t\\t});\\n\\t}\\n\\n\\tsetWindowFocus = (val) => {\\n\\t\\tthis.setState({\\n\\t\\t\\tisWindowOnFocus : val\\n\\t\\t});\\n\\t}\\n\\n\\treadAll = () => {\\n\\t\\tif(this.state.isUserSiggedIn === true && this.state.isWindowOnFocus === true)\\n\\t\\t\\tsocket.emit('readAll');\\n\\t}\\n\\n\\tcomponentWillMount() {\\n\\t\\tsocket.on('loginUser', (data) => {\\n\\t\\t\\tthis.setUserStatus(false);\\n\\t\\t});\\n\\t\\tsocket.on('addMessage', (data) => {\\n\\t\\t\\tthis.readAll();\\n\\t\\t\\tif(this.state.isUserSiggedIn === true && this.state.isWindowOnFocus === false)\\n\\t\\t\\t\\tdocument.getElementById('chatAudio').play();\\n\\t\\t});\\n\\t\\tsocket.on('userLoggedIn', (data) => {\\n\\t\\t\\tthis.setUserStatus(true);\\n\\t\\t});\\n\\t\\tsocket.on('returnUsername', (data) => {\\n\\t\\t\\tthis.setUserStatus(true);\\n\\t\\t\\tthis.setUid(data.uid);\\n\\t\\t});\\n\\t\\tsocket.on('disconnect', () => {\\n\\t\\t\\tthis.setUserStatus(false);\\n\\t\\t});\\n\\t\\twindow.addEventListener(\\\"focus\\\", (event) => {\\n\\t\\t\\tthis.setWindowFocus(true);\\n\\t\\t\\tsocket.emit('toggleOnline');\\n\\t\\t\\tthis.readAll();\\n\\t\\t})\\n\\t\\twindow.addEventListener(\\\"blur\\\", (event) => {\\n\\t\\t\\tthis.setWindowFocus(false);\\n\\t\\t\\tsocket.emit('toggleOnline');\\n\\t\\t})\\n    }\\n\\t\\n}\\n\\nReactDOM.render(\\n\\t<App />, appSection\\n)\\n\\n\\nserviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(70)},38:function(e,t,n){},40:function(e,t,n){},67:function(e,t){},70:function(e,t,n){\"use strict\";n.r(t);var s=n(1),a=n(2),r=n(4),i=n(3),o=n(5),c=n(0),u=n.n(c),l=n(31),d=n.n(l);n(38),n(40),Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m=n(32),h=n.n(m),p=document.getElementById(\"chatApp\"),g=h.a.connect(\"http://127.0.0.1:5000/\",{reconnect:!0}),f={isEnterButton:function(e){return 13==e.keyCode},isEnterCtrlButton:function(e){return!(10!=e.keyCode&&13!=e.keyCode||!e.ctrlKey)},isEmptyValue:function(e){return\"\"==e},numericEnding:function(e,t,n,s){var a=Math.abs(e);return(a%=100)>=5&&a<=20?s:1===(a%=10)?t:a>=2&&a<=4?n:s},parseTime:function(e){var t=new Date(e);return(\"0\"+t.getHours()).slice(-2)+\":\"+(\"0\"+t.getMinutes()).slice(-2)+\":\"},parseDate:function(e){var t=new Date(e),n=new Date;return f.compareDates(t,n)?\"\\u0421\\u0435\\u0433\\u043e\\u0434\\u043d\\u044f\":(n.setDate(n.getDate()-1),f.compareDates(t,n)?\"\\u0412\\u0447\\u0435\\u0440\\u0430\":t.getDate()+\".\"+t.getMonth()+\".\"+t.getFullYear())},compareDates:function(e,t){return e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()&&e.getDate()==t.getDate()}},y=function(e){function t(e){return Object(s.a)(this,t),Object(r.a)(this,Object(i.a)(t).call(this,e))}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){var e=this;return u.a.createElement(\"div\",{className:\"username\"},u.a.createElement(\"h1\",null,\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043c\\u044f\"),u.a.createElement(\"input\",{type:\"text\",id:\"nickname\",onKeyUp:function(t){return e.props.checkEnterKey(t)}}),u.a.createElement(\"p\",{className:\"userWarning\"},this.props.error))}}]),t}(u.a.Component),v=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={error:\"\"},n.checkEnterKey=function(e,t){var s=e.target.value.replace(/ /g,\"\");f.isEmptyValue(s)?n.incorrectLogin():(n.clearError(),f.isEnterButton(e)&&n.sendLogin(s))},n.sendLogin=function(e){g.emit(\"userName\",{user:e})},n.existLogin=function(){n.setErrorStateFun(\"\\u0422\\u0430\\u043a\\u043e\\u0439 \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\\u043b\\u044c \\u0443\\u0436\\u0435 \\u0435\\u0441\\u0442\\u044c\")},n.incorrectLogin=function(){n.setErrorStateFun(\"\\u041d\\u0435\\u0434\\u043e\\u043f\\u0443\\u0441\\u0442\\u0438\\u043c\\u043e\\u0435 \\u0438\\u043c\\u044f\")},n.clearError=function(){n.setErrorStateFun(\"\")},n.setErrorStateFun=function(e){n.setState({error:e})},n}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){return u.a.createElement(y,{error:this.state.error,checkEnterKey:this.checkEnterKey})}},{key:\"componentWillMount\",value:function(){var e=this;g.on(\"existUsername\",function(){e.existLogin()}),g.on(\"incorrectUsername\",function(){e.incorrectLogin()})}}]),t}(u.a.Component),E=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={usersList:{},uid:0,midEdit:-1,message:\"\"},n}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"setEditMessage\",value:function(e,t){this.setState({midEdit:e,message:t})}},{key:\"setUsers\",value:function(e){this.setState({usersList:e})}},{key:\"setUid\",value:function(e){this.setState({uid:e})}},{key:\"render\",value:function(){return u.a.createElement(\"section\",{id:\"chatSection\"},u.a.createElement(O,{uid:this.state.uid,usersList:this.state.usersList}),u.a.createElement(w,{uid:this.state.uid,usersList:this.state.usersList}),u.a.createElement(M,{editMessage:this.state.message,midEdit:this.state.midEdit}),u.a.createElement(k,{usersList:this.state.usersList}))}},{key:\"componentWillMount\",value:function(){var e=this;g.on(\"chatHistory\",function(t){e.setUsers(t.userList)}),g.on(\"userLoggedIn\",function(t){e.setUid(t.uid)}),g.on(\"toggleOnline\",function(t){e.setUsers(t.usersList)}),g.on(\"chatNewUser\",function(t){var n=e.state.usersList;n[t.uid]=t.user,e.setUsers(n)})}}]),t}(u.a.Component),O=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={chatHistory:{}},n.lastReadMessage=0,n.scrollToBottom=function(){var e=document.getElementById(\"chat\");e.scrollTop=e.scrollHeight},n.editMessage=function(e){n.props.editMessage(e)},n}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"setHistory\",value:function(e){this.setState({chatHistory:e})}},{key:\"render\",value:function(){var e=this,t=\"\";return u.a.createElement(\"div\",{id:\"chat\"},Object.keys(this.state.chatHistory).map(function(n){var s=!1,a=!1;return t!=f.parseDate(e.state.chatHistory[n].date)&&(t=f.parseDate(e.state.chatHistory[n].date),a=!0),e.lastMessageUid!=e.state.chatHistory[n].user&&(e.lastMessageUid=e.state.chatHistory[n].user,s=!0),[!0===a?u.a.createElement(\"div\",{className:\"newUser dateMessage\"},t):\"\",!0===e.state.chatHistory[n].isSystem?u.a.createElement(b,{message:e.state.chatHistory[n]}):u.a.createElement(j,{message:e.state.chatHistory[n],userChanged:s,userName:!0===s?e.props.usersList[e.lastMessageUid].name:\"\",userColor:!0===s?e.props.usersList[e.lastMessageUid].color:\"\",uid:e.props.uid,editMessage:e.editMessage,mid:n})]}))}},{key:\"componentWillMount\",value:function(){var e=this;g.on(\"chatHistory\",function(t){e.setHistory(t.chat)}),g.on(\"addMessage\",function(t){var n=e.state.chatHistory;n[t.id]=t.message,e.setHistory(n)}),g.on(\"readAll\",function(t){for(var n=e.state.chatHistory,s=e.lastReadMessage;s<=t.toMessage;s++)n[s].unread=!1;e.setHistory(n),e.lastReadMessage=t.toMessage})}},{key:\"componentDidUpdate\",value:function(){this.scrollToBottom()}}]),t}(u.a.Component),b=function(e){function t(e){return Object(s.a)(this,t),Object(r.a)(this,Object(i.a)(t).call(this,e))}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){return u.a.createElement(\"div\",{className:\"newUser\"},this.props.message.msg)}}]),t}(u.a.Component),j=function(e){function t(e){return Object(s.a)(this,t),Object(r.a)(this,Object(i.a)(t).call(this,e))}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){var e=this,t=!0===this.props.message.unread?\"unreadMessages \":\"\",n=\"message_container \"+(!0===this.props.message.isChanged?\"editedMsg \":\"\")+t,s=\"message_container \"+t,a=this.props.message.msg.match(/(http|https|www)\\S+/g),r=this.props.message.msg;if(null!=a)for(var i=0;i<a.length;i++)r=r.replace(a[i],u.a.createElement(\"a\",{href:a[i]},a[i]));return u.a.createElement(\"div\",null,!0===this.props.userChanged?u.a.createElement(\"div\",{className:s},u.a.createElement(\"div\",{className:\"date_name\"},f.parseTime(this.props.message.date),u.a.createElement(\"p\",{className:\"user\",style:{color:this.props.userColor}},this.props.userName))):\"\",u.a.createElement(\"div\",{className:n},u.a.createElement(\"p\",{className:\"message\",onClick:this.props.uid==this.props.message.user?function(){return e.props.editMessage(e.props.mid)}:\"\"},r)))}}]),t}(u.a.Component),k=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={count:0},n}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){var e=this;return u.a.createElement(\"div\",null,u.a.createElement(\"div\",{id:\"users_count\"},\"\\u0412 \\u0447\\u0430\\u0442\\u0435 \",this.state.count,\" \\u043f\\u043e\\u043b\\u044c\\u0437\\u043e\\u0432\\u0430\\u0442\\u0435\",f.numericEnding(this.state.count,\"\\u043b\\u044c\",\"\\u043b\\u044f\",\"\\u043b\\u0435\\u0439\"),\".\"),u.a.createElement(\"div\",{className:\"userList\"},Object.keys(this.props.usersList).map(function(t){return 0==e.props.usersList[t].inChat?\"\":u.a.createElement(\"p\",{className:1==e.props.usersList[t].online?\"user_online\":\"user_gone\"},e.props.usersList[t].name)})))}},{key:\"setCount\",value:function(e){this.setState({count:e})}},{key:\"componentWillMount\",value:function(){var e=this;g.on(\"chatHistory\",function(t){e.setCount(t.users)}),g.on(\"usersCount\",function(t){e.setCount(t)})}}]),t}(u.a.Component),w=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={text:\"\"},n}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){return u.a.createElement(\"p\",{id:\"usersTyping\"},this.state.text)}},{key:\"componentWillMount\",value:function(){var e=this;g.on(\"usersTyping\",function(t){e.setState({text:0==t.users.length?\"\":t.users.join(\", \")+\" \\u043f\\u0435\\u0447\\u0430\\u0442\\u0430\"+(t.users.length>1?\"\\u044e\\u0442\":\"\\u0435\\u0442\")+\" \\u0441\\u043e\\u043e\\u0431\\u0449\\u0435\\u043d\\u0438\\u0435:\"})})}}]),t}(u.a.Component),M=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).isTyping=!1,n.intervalStopTyping=\"\",n.keyPress=function(e){if(f.isEnterCtrlButton(e))e.target.value+=\"\\r\\n\";else{if(f.isEnterButton(e))return e.preventDefault(),g.emit(\"addMessage\",{message:e.target.value,mid:-1}),void(e.target.value=\"\");clearTimeout(n.intervalStopTyping),n.intervalStopTyping=setTimeout(n.stopTyping,1e3),1!=n.isTyping&&(g.emit(\"userTyping\"),n.isTyping=!0)}},n.stopTyping=function(){g.emit(\"userStopTyping\"),n.isTyping=!1},n}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){var e=this;return u.a.createElement(\"div\",{className:\"form-group\"},u.a.createElement(\"textarea\",{className:\"form-control\",rows:\"3\",onKeyDown:function(t){return e.keyPress(t)}}))}}]),t}(u.a.Component),S=function(e){function t(){return Object(s.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){return u.a.createElement(\"audio\",{id:\"chatAudio\"},u.a.createElement(\"source\",{src:\"/src/notify.ogg\",type:\"audio/ogg\"}),u.a.createElement(\"source\",{src:\"/src/notify.mp3\",type:\"audio/mpeg\"}),u.a.createElement(\"source\",{src:\"/src/notify.wav\",type:\"audio/wav\"}))}}]),t}(u.a.Component),U=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(r.a)(this,Object(i.a)(t).call(this,e))).state={isUserSiggedIn:!1,isWindowOnFocus:!0,uid:-1},n.setUserStatus=function(e){n.setState({isUserSiggedIn:e})},n.setWindowFocus=function(e){n.setState({isWindowOnFocus:e})},n.readAll=function(){!0===n.state.isUserSiggedIn&&!0===n.state.isWindowOnFocus&&g.emit(\"readAll\")},n}return Object(o.a)(t,e),Object(a.a)(t,[{key:\"render\",value:function(){return u.a.createElement(\"div\",null,u.a.createElement(E,{uid:this.state.uid}),0==this.state.isUserSiggedIn?u.a.createElement(v,null):\"\",0==this.state.isWindowOnFocus?u.a.createElement(S,null):\"\")}},{key:\"componentWillMount\",value:function(){var e=this;g.on(\"loginUser\",function(t){e.setUserStatus(!1)}),g.on(\"addMessage\",function(t){e.readAll(),!0===e.state.isUserSiggedIn&&!1===e.state.isWindowOnFocus&&document.getElementById(\"chatAudio\").play()}),g.on(\"userLoggedIn\",function(t){e.setUserStatus(!0)}),g.on(\"returnUsername\",function(t){e.setUserStatus(!0),e.setUid(t.uid)}),g.on(\"disconnect\",function(){e.setUserStatus(!1)}),window.addEventListener(\"focus\",function(t){e.setWindowFocus(!0),g.emit(\"toggleOnline\"),e.readAll()}),window.addEventListener(\"blur\",function(t){e.setWindowFocus(!1),g.emit(\"toggleOnline\")})}}]),t}(u.a.Component);d.a.render(u.a.createElement(U,null),p),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);","extractedComments":[]}